<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.2.2.10.3.2. CPSWng Ethernet &mdash; Processor SDK Linux for J784s4 Documentation</title><link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/theme_overrides.css" type="text/css" /><link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="3.2.2.10.3.2.3.1. CPSW Proxy Client" href="CPSW-Proxy-Client.html" />
    <link rel="prev" title="3.2.2.10.3.1. CPSW2g Ethernet" href="CPSW2g.html" /> 
  <script src="https://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>
   

</head>

<body class="wy-body-for-nav">
  <!---- extra body elements for TI beyond RTD Sphinx Theme --->
<div class="DocSite-globalNav tiNav">
    <ul>
    </ul>
</div>

<a class="DocSite-nav" href="https://www.ti.com" style="padding-bottom: 85px;">
  <img class="DocSiteNav-logo"
    src="../../../../../_static/img/ti_logo.png"
    alt="TI Logo">
  <div class="DocSiteNav-title"></div>
</a>
   

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../../devices/J7_Family/linux/index.html" class="icon icon-home"> Processor SDK Linux for J784s4
          </a>
              <div class="version">
                09_02_00
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../Overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../devices/J7_Family/linux/Release_Specific.html">2. Release Specific</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../Foundational_Components.html">3. Foundational Components</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../Foundational_Components_U-Boot.html">3.1. U-Boot</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../Foundational_Components_Kernel.html">3.2. Kernel</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../../Foundational_Components_Kernel_Users_Guide.html">3.2.1. Users Guide</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../../Foundational_Components_Kernel_Drivers.html">3.2.2. Kernel Drivers</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../ADC.html">3.2.2.1. ADC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Audio.html">3.2.2.2. Audio</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Camera/CSI2RX.html">3.2.2.3. CSI2RX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Crypto.html">3.2.2.4. Crypto</a></li>
<li class="toctree-l4"><a class="reference internal" href="../MCAN.html">3.2.2.5. MCAN</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Display/DSS7.html">3.2.2.6. DSS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../GPIO.html">3.2.2.7. GPIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="../HYPERFLASH.html">3.2.2.8. HyperBus and HyperFlash</a></li>
<li class="toctree-l4"><a class="reference internal" href="../I2C.html">3.2.2.9. I2C</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="CPSW-Ethernet.html">3.2.2.10. CPSW Ethernet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../PCIe/PCIe_End_Point.html">3.2.2.11. PCIe End Point</a></li>
<li class="toctree-l4"><a class="reference internal" href="../PCIe/PCIe_Backplane.html">3.2.2.12. PCIe Backplane</a></li>
<li class="toctree-l4"><a class="reference internal" href="../PCIe/PCIe_Root_Complex.html">3.2.2.13. PCIe Root Complex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../PMIC/pmic_tps6594.html">3.2.2.14. TPS6594 PMIC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Power_Management.html">3.2.2.15. Power Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../QSPI.html">3.2.2.16. OSPI/QSPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../SERDES/SERDES.html">3.2.2.17. SERDES</a></li>
<li class="toctree-l4"><a class="reference internal" href="../SPI.html">3.2.2.18. SPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Storage/NAND.html">3.2.2.19. NAND</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Storage/MMC-SD.html">3.2.2.20. MMC/SD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../UART.html">3.2.2.21. UART</a></li>
<li class="toctree-l4"><a class="reference internal" href="../UFS.html">3.2.2.22. UFS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../USB/CDNS3.html">3.2.2.23. USB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../VTM.html">3.2.2.24. Voltage &amp; Thermal Management (VTM)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../Foundational_Components_Kernel_LTP-DDT_Validation.html">3.2.3. LTP-DDT Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../Foundational_Components_Kernel_FAQs.html">3.2.4. FAQs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Foundational_Components_Filesystem.html">3.3. Filesystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Foundational_Components_Tools.html">3.4. Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Foundational_Components_IPC_J784S4.html">3.5. IPC for J784S4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Foundational_Components_Graphics.html">3.6. Graphics and Display</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Foundational_Components_Multimedia_wave5.html">3.7. Multimedia Video Codec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Foundational_Components_Virtualization.html">3.8. Virtualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Foundational_Components_ATF.html">3.9. ARM Trusted Firmware-A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Foundational_Components_OPTEE.html">3.10. OP-TEE</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../How_to_Guides.html">4. How to Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Documentation_Tarball.html">5. Documentation Tarball</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../devices/J7_Family/linux/index.html">Processor SDK Linux for J784s4</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../devices/J7_Family/linux/index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../../Foundational_Components.html"><span class="section-number">3. </span>Foundational Components</a> &raquo;</li>
          <li><a href="../../../../Foundational_Components_Kernel.html"><span class="section-number">3.2. </span>Kernel</a> &raquo;</li>
          <li><a href="../../../../Foundational_Components_Kernel_Drivers.html"><span class="section-number">3.2.2. </span>Kernel Drivers</a> &raquo;</li>
          <li><a href="CPSW-Ethernet.html"><span class="section-number">3.2.2.10. </span>CPSW Ethernet</a> &raquo;</li>
      <li><span class="section-number">3.2.2.10.3.2. </span>CPSWng Ethernet</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="cpswng-ethernet">
<span id="cpswng"></span><h1><span class="section-number">3.2.2.10.3.2. </span>CPSWng Ethernet<a class="headerlink" href="#cpswng-ethernet" title="Permalink to this headline">Â¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id1">Introduction</a></p></li>
<li><p><a class="reference internal" href="#cpsw-proxy-client" id="id2">CPSW Proxy Client</a></p></li>
<li><p><a class="reference internal" href="#cpswng-native-ethernet-switch" id="id3">CPSWng Native Ethernet Switch</a></p></li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1"><span class="section-number">3.2.2.10.3.2.1. </span>Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">Â¶</a></h2>
<p>The TI J784S4 family of devices have Multi Port
Gigabit Ethernet Switch Subsystem CPSWng. SoCs may have more than 4 external
ports with selectable RGMII, QSGMII and SGMII interfaces and an internal
Communications Port Programming Interface (CPPI) port (Host port 0).
Host Port 0 CPPI Packet Streaming Interface interface supports 8 TX
channels and one RX channel DMA channel.</p>
<p>Multi port Gigabit Ethernet Switch Subsystem CPSWng supports both independent
MAC mode of operation supporting multiple independent Ethernet
interfaces with complete isolation (no packet switching between external
ports), or can be configured in Switch mode with IEEE 802.1Q HW bridge
in managed or learning mode between each of the individual MAC ports.</p>
<p>Depending on the SoC, the value of n in CPSWng varies as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 26%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SoC</p></th>
<th class="head"><p>n in CPSWng</p></th>
<th class="head"><p>Number of Ports</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>J7200</p></td>
<td><p>n = 5 (CPSW5g)</p></td>
<td><p>5 (1 host port, 4 external ports)</p></td>
</tr>
<tr class="row-odd"><td><p>J721e</p></td>
<td><p>n = 9 (CPSW9g)</p></td>
<td><p>9 (1 host port, 8 external ports)</p></td>
</tr>
<tr class="row-even"><td><p>J784S4</p></td>
<td><p>n = 9 (CPSW9g)</p></td>
<td><p>9 (1 host port, 8 external ports)</p></td>
</tr>
</tbody>
</table>
<p>The SDK provides support to use the CPSWng ports in two different
configurations:</p>
<ol class="arabic simple">
<li><p>CPSW Proxy Client</p></li>
<li><p>CPSWng Native Ethernet Switch</p></li>
</ol>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The two configurations are mutually exclusive. Only one of the two
can be enabled for a build.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<div class="line-block">
<div class="line">Enabling the CPSW Proxy Client configuration or the CPSWng Native Ethernet configuration</div>
<div class="line">requires applying a Linux device-tree overlay at U-Boot using the <strong>name_overlays</strong> U-Boot environment variable.</div>
<div class="line">For details regarding applying CPSW Proxy Client overlay, refer <a class="reference internal" href="CPSW-Proxy-Client.html#cpsw-proxy-client-enable"><span class="std std-ref">Enabling CPSW Proxy Client Driver for Linux</span></a>.</div>
<div class="line">For details regarding applying CPSWng Native Ethernet overlay, refer <a class="reference internal" href="CPSWng-Native-Ethernet.html#cpswng-native-eth-overlays"><span class="std std-ref">Enabling CPSWng Native Ethernet for Linux</span></a>.</div>
</div>
</div>
</div>
<div class="section" id="cpsw-proxy-client">
<h2><a class="toc-backref" href="#id2"><span class="section-number">3.2.2.10.3.2.2. </span>CPSW Proxy Client</a><a class="headerlink" href="#cpsw-proxy-client" title="Permalink to this headline">Â¶</a></h2>
<p>In this configuration, the EthSwitch firmware running on one of the R5F cores
controls access to the CPSWng subsystem. The other cores have thin client
drivers running on them to receive data from the EthSwitch firmware. On the
A core running Linux, the cpsw-proxy-client driver is responsible for the
interaction with the EthSwitch firmware.</p>
<p>This configuration allows multiple cores to share the CPSWng ethernet subsystem.</p>
<p>For further details, refer <a class="reference internal" href="CPSW-Proxy-Client.html#cpsw-proxy-client"><span class="std std-ref">CPSW Proxy Client</span></a></p>
</div>
<div class="section" id="cpswng-native-ethernet-switch">
<h2><a class="toc-backref" href="#id3"><span class="section-number">3.2.2.10.3.2.3. </span>CPSWng Native Ethernet Switch</a><a class="headerlink" href="#cpswng-native-ethernet-switch" title="Permalink to this headline">Â¶</a></h2>
<p>In this configuration, the am65-cpsw-nuss driver in Linux, takes complete
control of the CPSWng subsystem, allowing Linux to utilize all the external
ports of the CPSWng subsystem. Linux does not share any of the network traffic
with other cores.</p>
<p>This configuration supports MAC mode, Switch mode and TSN features on Linux.</p>
<p>For further details, refer <a class="reference internal" href="CPSWng-Native-Ethernet.html#cpswng-native-ethernet"><span class="std std-ref">CPSWng Native Ethernet</span></a></p>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="CPSW2g.html" class="btn btn-neutral float-left" title="3.2.2.10.3.1. CPSW2g Ethernet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CPSW-Proxy-Client.html" class="btn btn-neutral float-right" title="3.2.2.10.3.2.3.1. CPSW Proxy Client" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2023</a>, Texas Instruments Incorporated. All rights reserved. <br/>
      <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>